@model TouristAgency.Models.TravelPackage
@{
    ViewData["Title"] = "Детайли за туристически пакет";
}

<h2>@Model.Title</h2>
<p><strong>Описание:</strong> @Model.Description</p>
<p><strong>Цена:</strong> @string.Format("{0:C}", Model.Price)</p>
<p><strong>Период:</strong> @Model.StartDate.ToShortDateString() – @Model.EndDate.ToShortDateString()</p>
<p><strong>Свободни места:</strong> @Model.AvailableSlots</p>

<p>
    <strong>Дестинация:</strong>
    @if (Model.Destination != null)
    {
        <a asp-controller="Public" asp-action="Destination" asp-route-id="@Model.Destination.Id">
            @Model.Destination.Name
        </a>
    }
</p>

<p>
    <strong>Организатор:</strong>
    @if (Model.TourOperator != null && User.IsInRole("Admin") || User.Identity?.Name != Model.TourOperator.UserName)
    {
        <a asp-controller="Public" asp-action="Agency" asp-route-id="@Model.TourOperator.Id">
            @Model.TourOperator.UserName
        </a>
    }
    else
    {
        @Model.TourOperator?.UserName
    }
</p>

<a asp-action="MyPackages" class="btn btn-secondary">Назад</a>
